# cards-php-sdk
PHP-SDK с примером интеграции сервиса распознования и верификации банковских карт cards.infohound.ru

## Термины и определения
+ **Сервис** - сервис cards.infohound.ru
+ **Компания** - компания-пользователь Сервиса
+ **Пользователь** - пользователь Компании, загружающий фото в Сервис
+ **Виджет** - JS-виджет, встраиваемые в сайт Компании
+ **API** - API компании infohound.ru

## Поток работ (Workflow)
1. Пользователь загружает через виджет фото на бэкенд Компании, откуда в режиме реального времени фото передается на API-метод `upload`.
2. Пользователю открывается фото-редактор с возможностью обрезать/подогнать под размер
фотографию карты.
3. Пользователь нажимает **Сохранить**, в этот момент на бэкенд Компании отправляется запрос на метод `crop`.
4. Далее Компания должна послать запрос на API-метод apply с именем на карты, номером карты и сроком ее истечения.
5. 

## Описание методов API
Базовый адрес API `http://api.cards.infohound.ru`. Запросы отправляются по HTTP-протоколу, согласно документации. Для авторизации по протоколу [OAuth2](https://ru.wikipedia.org/wiki/OAuth).
 
### POST /upload 
Загрузить фотографию для обрезки и дальнейшей обработки. 
#### Пример запроса 
```curl -X POST \
    http://api.cards.infohound.ru/upload \
    -H 'authorization: Bearer accesstokenhere' \
    -H 'Accept: application/json'
    -F file=@\\path\to\card.jpg``
```
Где `accesstokenhere` - ваш токен, полученный в личном кабинете.

#### Ответ
```
   {  
      "ok":"1",
      "info":"http:\/\/api.cards.infohound.ru\/get-photo\/1",
      "width":800,
      "height":600
   }
```
Где `info` - url фото-оригинала, а `width` и `height` - ширина и высота, соответственно.

### POST /crop
TBD
#### Пример запроса
TBD

### POST /apply
TBD
#### Пример запроса
TBD

### GET /getPhoto
TBD
#### Пример запроса
TBD

### GET /getResult
TBD
#### Пример запроса
TBD